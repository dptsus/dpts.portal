@using PagedList
@model IPagedList<TempDoctorViewModel>
@using DPTS.Web.Models
@{
        int ind = 0;
}

@if (Model.Any())
{
    <div class="tg-view tg-list-view" style="border-bottom: none">
        <div class="row">
            <ul>
                @foreach (var item in Model)
                {
                    <li style="list-style: none;" data-ind="@(ind++)">
                        @{
                            string picturePath = "/Content/wp-content/themes/docdirect/images/user365x365.jpg";
                            string profilePicPath = Server.MapPath("~/Uploads/" + item.Doctors.DoctorId + "_profile.jpg");
                            if (File.Exists(profilePicPath))
                            {
                                picturePath = "../../Uploads/" + item.Doctors.DoctorId + "_profile.jpg";
                            }
                        }

                        <article class="tg-doctor-profile user-330">
                            <div class="tg-box">
                                <figure class="tg-docprofile-img">
                                    <a href="@Url.Action("DoctorDetails", "Doctor", new {doctorId = item.Doctors.DoctorId})" class="list-avatar">
                                        <img src="@picturePath">
                                    </a>
                                </figure>
                                <div class="tg-docprofile-content">
                                    <div class="tg-heading-border tg-small" style="margin: 0">
                                        <h3>
                                            <a href="@Url.Action("DoctorDetails", "Doctor", new {doctorId = item.Doctors.DoctorId})">Dr. @item.Doctors.AspNetUser.FirstName @item.Doctors.AspNetUser.LastName</a>
                                        </h3>
                                    </div>
                                    <div class="tg-description">

                                        @if (item.Doctors.Education.Any())
                                        {
                                            string educationLst = string.Empty;
                                            foreach (var edu in item.Doctors.Education)
                                            {
                                                educationLst += edu.Title + " ";
                                            }
                                            if (!string.IsNullOrWhiteSpace(educationLst))
                                            {
                                              <p>
                                            <i class="fa fa-graduation-cap" aria-hidden="true"></i><span><b>@educationLst</b></span>
                                            </p>
                                            }
                                        }

                                    </div>
                                    <div class="short-description">
                                        <ul class="tg-doccontactinfo">
                                           
                                            @*@if (item.Doctors.Experience.Any())
                                            {
                                                <li><i class="fa fa-flask" aria-hidden="true"></i><span><b>@item.Doctors.YearsOfExperience</b> years experience</span></li>
                                            }*@
                                           
                                            @{
                                                var addr = item.Address;
                                                if (addr != null)
                                                {
                                                    <li>
                                                        <input type="hidden" class="shop-coordinates" data-latitude="@addr.Latitude" data-longitude="@addr.Longitude" data-shop-title="Dr @item.Doctors.AspNetUser.FirstName @item.Doctors.AspNetUser.LastName" value="1" />

                                                        <i class="fa fa-map-marker"></i><address>
                                                            <p>
                                                                @addr.Address1, @addr.City
                                                            </p>
                                                        </address>
                                                    </li>
                                                    if (!string.IsNullOrWhiteSpace(addr.FaxNumber))
                                                    {
                                                        <li><i class="fa fa-fax"></i><span>@addr.FaxNumber</span></li>
                                                    }
                                                    if (!string.IsNullOrWhiteSpace(addr.Website))
                                                    {
                                                        <li><i class="fa fa-link"></i><a href="@addr.Website">@addr.Website</a></li>
                                                    }
                                                }
                                            }
                                            @if (!string.IsNullOrWhiteSpace(item.Doctors.AspNetUser.PhoneNumber))
                                            {
                                                <li><i class="fa fa-phone"></i><span>@item.Doctors.AspNetUser.PhoneNumber</span></li>
                                            }

                                            @if (!string.IsNullOrWhiteSpace(item.Doctors.AspNetUser.Email))
                                            {
                                                <li><i class="fa fa-envelope-o"></i><a href="#">@item.Doctors.AspNetUser.Email</a></li>
                                            }

                                        </ul>
                                        <a class="tg-btn tg-btn-lg make-appointment-btn" style="font-size: 13px" href="@Url.Action("Booking", "Appointment", new RouteValueDictionary(new {doctorId = item.Doctors.DoctorId}))">MAKE AN APPOINTMENT!</a>
                                    </div>

                                </div>
                            </div>
                        </article>
                    </li>
                  }
                
            </ul>
        </div>
    </div>
    
                                                }
                                                else
                                                {
   <p>No Record Found !!</p>
}




